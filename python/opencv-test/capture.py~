#!/usr/bin/env python3

import sys
import cv2

def main():
    i = 0;
    capture = cv2.VideoCapture("/home/kom/sintel_trailer-480p.webm")
    if capture.isOpened() is False:
        raise IOError

    while(True):
        try:
            print('>>> ', i)
            i += 1
            ret, frame = capture.read()
            if ret is False:
                raise IOError
            print(type(frame))
            cv2.imshow('frame',frame)
            k = cv2.waitKey(0)
            if k == ord('q'):
                break
        except KeyboardInterrupt:
            # 終わるときは CTRL + C を押す
            break

    capture.release()
    cv2.destroyAllWindows()

    return 0

if __name__ == '__main__':
    rc = main()
    sys.exit(rc)
